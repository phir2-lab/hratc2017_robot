<?xml version="1.0"?>

<robot xmlns:xacro="http://www.ros.org/wiki/xacro">

    <material name="color_bridge1">
      <color rgba="0.1 0.1 0.1 1"/>
    </material>

    <xacro:macro name="robot_bridge" params="parent *origin">

      <joint name="robot_bridge_joint" type="fixed">
        <xacro:insert_block name="origin" />
        <parent link="${parent}"/>
        <child link="robot_bridge"/>
      </joint>

      <link name="robot_bridge">
        <inertial>
          <origin
            xyz="0.0636736810906936 0.143842323651452 0.00299999999999712"
            rpy="0 0 0" />
          <mass
            value="0.20244" />
          <inertia
            ixx="0.00152014852697095"
            ixy="1.76846639004149E-05"
            ixz="-3.1539863417057E-18"
            iyy="0.000286140203372851"
            iyz="-2.34660601836366E-17"
            izz="0.00180507409034381" />
        </inertial>
        <visual>
          <origin
            xyz="0 0 0"
            rpy="0 0 0" />
          <geometry>
            <mesh
              filename="package://hratc2017_robot/model/gazebo/meshes/bridge.STL" />
          </geometry>
          <material name="color_bridge1" />
        </visual>
        <collision>
          <origin
            xyz="0 0 0"
            rpy="0 0 0" />
          <geometry>
            <mesh
              filename="package://hratc2017_robot/model/gazebo/meshes/bridge.STL" />
          </geometry>
        </collision>
      </link>
      <gazebo reference="robot_bridge">
        <material>Gazebo/FlatBlack</material>
        <turnGravityOff>false</turnGravityOff>
      </gazebo>

      <link name="robot_bridge_left">
        <inertial>
          <origin
            xyz="0.0540874050204184 0.178160355074789 0.00302783690149616"
            rpy="0 0 0" />
          <mass
            value="0.192741498658911" />
          <inertia
            ixx="0.00247517327495455"
            ixy="-0.000307984645851293"
            ixz="1.41948006226161E-08"
            iyy="0.000287632943939697"
            iyz="-1.60207534296156E-07"
            izz="0.0027616214535378" />
        </inertial>
        <visual>
          <origin
            xyz="0 0 0"
            rpy="0 0 0" />
          <geometry>
            <mesh
              filename="package://hratc2017_robot/model/gazebo/meshes/Left_wall.STL" />
          </geometry>
          <material name="color_bridge1" />
        </visual>
        <collision>
          <origin
            xyz="0 0 0"
            rpy="0 0 0" />
          <geometry>
            <mesh
              filename="package://hratc2017_robot/model/gazebo/meshes/Left_wall.STL" />
          </geometry>
        </collision>
      </link>
      <gazebo reference="robot_bridge_left">
        <material>Gazebo/FlatBlack</material>
        <turnGravityOff>false</turnGravityOff>
      </gazebo>

      <joint name="robot_bridge_left_joint" type="fixed">
        <origin
          xyz="0.15 0.286000000000024 0"
          rpy="1.57079632679491 -1.62922021519875E-15 3.14159265358979" />
        <parent
          link="robot_bridge" />
        <child
          link="robot_bridge_left" />
        <axis
          xyz="0 0 0" />
      </joint>

      <link name="robot_bridge_right">
        <inertial>
          <origin
            xyz="0.0540874050204184 0.178160355074789 0.00302783690149645"
            rpy="0 0 0" />
          <mass
            value="0.192741498658912" />
          <inertia
            ixx="0.00247517327495456"
            ixy="-0.000307984645851296"
            ixz="1.41948006226808E-08"
            iyy="0.000287632943939699"
            iyz="-1.6020753429316E-07"
            izz="0.00276162145353781" />
        </inertial>
        <visual>
          <origin
            xyz="0 0 0"
            rpy="0 0 0" />
          <geometry>
            <mesh
              filename="package://hratc2017_robot/model/gazebo/meshes/Right_wall.STL" />
          </geometry>
          <material name="color_bridge1" />
        </visual>
        <collision>
          <origin
            xyz="0 0 0"
            rpy="0 0 0" />
          <geometry>
            <mesh
              filename="package://hratc2017_robot/model/gazebo/meshes/Right_wall.STL" />
          </geometry>
        </collision>
      </link>
      <gazebo reference="robot_bridge_right">
        <material>Gazebo/FlatBlack</material>
        <turnGravityOff>false</turnGravityOff>
      </gazebo>

      <joint name="robot_bridge_right_joint" type="fixed">
        <origin
          xyz="0.15 0 0"
          rpy="1.57079632679491 -1.27003663634341E-15 -3.14159265358979" />
        <parent
          link="robot_bridge" />
        <child
          link="robot_bridge_right" />
        <axis
          xyz="0 0 0" />
      </joint>

      <link name="robot_bridge_top">
        <inertial>
          <origin
            xyz="0.146 0.0250000000000003 0.003000000000001"
            rpy="0 0 0" />
          <mass
            value="0.0861599999999999" />
          <inertia
            ixx="1.846048E-05"
            ixy="1.09436656785256E-18"
            ixz="4.63938687723111E-18"
            iyy="0.0005932348"
            iyz="-1.8841390206596E-19"
            izz="0.00061117832" />
        </inertial>
        <visual>
          <origin
            xyz="0 0 0"
            rpy="0 0 0" />
          <geometry>
            <mesh
              filename="package://hratc2017_robot/model/gazebo/meshes/Top_wall.STL" />
          </geometry>
          <material name="color_bridge1" />
        </visual>
        <collision>
          <origin
            xyz="0 0 0"
            rpy="0 0 0" />
          <geometry>
            <mesh
              filename="package://hratc2017_robot/model/gazebo/meshes/Top_wall.STL" />
          </geometry>
        </collision>
      </link>
      <gazebo reference="robot_bridge_top">
        <material>Gazebo/FlatBlack</material>
        <turnGravityOff>false</turnGravityOff>
      </gazebo>

      <joint name="robot_bridge_top_joint" type="fixed">
        <origin
          xyz="0.100000000000004 0.291999999999986 0.394000000000001"
          rpy="0 0 -1.5707963267949" />
        <parent
          link="robot_bridge" />
        <child
          link="robot_bridge_top" />
        <axis
          xyz="0 0 0" />
      </joint>

      <link name="robot_bridge_box">
        <inertial>
          <origin
            xyz="0.0508000000000001 0.139700000000001 0.0888999999999978"
            rpy="0 0 0" />
          <mass
            value="5.047215712" />
          <inertia
            ixx="0.0461303739240139"
            ixy="-9.10729824887824E-18"
            ixz="1.55504347364085E-17"
            iyy="0.0176380841474171"
            iyz="-2.98372626157703E-16"
            izz="0.0371756542799406" />
        </inertial>
        <visual>
          <origin
            xyz="0 0 0"
            rpy="0 0 0" />
          <geometry>
            <mesh
              filename="package://hratc2017_robot/model/gazebo/meshes/Box.STL" />
          </geometry>
          <material name="color_bridge1" />
        </visual>
        <collision>
          <origin
            xyz="0 0 0"
            rpy="0 0 0" />
          <geometry>
            <mesh
              filename="package://hratc2017_robot/model/gazebo/meshes/Box.STL" />
          </geometry>
        </collision>
      </link>
      <gazebo reference="robot_bridge_box">
        <material>Gazebo/FlatBlack</material>
        <turnGravityOff>false</turnGravityOff>
      </gazebo>

      <joint name="robot_bridge_box_joint" type="fixed">
        <origin
          xyz="0.0314250374432224 0.00600000000000064 0.0426820783873312"
          rpy="0 0 -2.77555756156289E-17" />
        <parent
          link="robot_bridge" />
        <child
          link="robot_bridge_box" />
        <axis
          xyz="0 0 0" />
      </joint>

<!--      <link name="Laser_support">-->
<!--        <inertial>-->
<!--          <origin-->
<!--            xyz="0.0450000000000004 0.0265300391501749 -0.047447780251052"-->
<!--            rpy="0 0 0" />-->
<!--          <mass-->
<!--            value="0.077668648558694" />-->
<!--          <inertia-->
<!--            ixx="0.000240204828475503"-->
<!--            ixy="-1.21972744404628E-19"-->
<!--            ixz="-1.51216556908574E-18"-->
<!--            iyy="0.000248773184670883"-->
<!--            iyz="1.39921616907987E-05"-->
<!--            izz="0.000101877527595527" />-->
<!--        </inertial>-->
<!--        <visual>-->
<!--          <origin-->
<!--            xyz="0 0 0"-->
<!--            rpy="0 0 0" />-->
<!--          <geometry>-->
<!--            <mesh-->
<!--              filename="package://hratc2017_robot/model/gazebo/meshes/Laser_support.STL" />-->
<!--          </geometry>-->
<!--          <material name="color_bridge1" />-->
<!--        </visual>-->
<!--        <collision>-->
<!--          <origin-->
<!--            xyz="0 0 0"-->
<!--            rpy="0 0 0" />-->
<!--          <geometry>-->
<!--            <mesh-->
<!--              filename="package://hratc2017_robot/model/gazebo/meshes/Laser_support.STL" />-->
<!--          </geometry>-->
<!--        </collision>-->
<!--      </link>-->
<!--      <gazebo reference="Laser_support">-->
<!--        <material>Gazebo/FlatBlack</material>-->
<!--        <turnGravityOff>false</turnGravityOff>-->
<!--      </gazebo>-->

<!--      <joint name="Laser_support_joint" type="fixed">-->
<!--        <origin-->
<!--          xyz="0.0820581161712757 0.113821575351547 0.405000000000003"-->
<!--          rpy="-3.14159265358978 0 1.52865875946308" />-->
<!--        <parent-->
<!--          link="robot_bridge" />-->
<!--        <child-->
<!--          link="Laser_support" />-->
<!--        <axis-->
<!--          xyz="0 0 0" />-->
<!--      </joint>-->

    </xacro:macro>
</robot>
